import java.io.File;
import java.io.FileInputStream;
import java.io.FileWriter;
import java.io.IOException;
import java.util.Base64;

public class MultipleImagesToSingleBase64File {
    public static void imageToBase64(String imagePath, FileWriter fileWriter) throws IOException {
        // Read the image file into a byte array
        File imageFile = new File(imagePath);
        FileInputStream imageStream = new FileInputStream(imageFile);
        byte[] imageBytes = new byte[(int) imageFile.length()];
        imageStream.read(imageBytes);
        imageStream.close();

        // Encode the byte array into a Base64 string
        String encodedString = Base64.getEncoder().encodeToString(imageBytes);

        // Write the Base64 string to the text file with a delimiter
        fileWriter.write(encodedString + "\n---END OF IMAGE---\n");
        System.out.println("Image " + imagePath + " has been converted to Base64 and added to the text file.");
    }

    public static void main(String[] args) {
        try {
            // Example image paths in the 'images' directory
            String[] imagePaths = { "images/image1.jpg", "images/image2.jpg", "images/image3.jpg" };

            // Open a FileWriter for the output text file
            FileWriter fileWriter = new FileWriter("output.txt");

            // Loop through all images and convert them to Base64
            for (String imagePath : imagePaths) {
                imageToBase64(imagePath, fileWriter);
            }

            fileWriter.close();
            System.out.println("All images have been encoded and saved to output.txt.");
        } catch (IOException e) {
            System.err.println("Error: " + e.getMessage());
        }
    }
}
